[debug] [2025-06-26T11:42:38.365Z] ----------------------------------------------------------------------
[debug] [2025-06-26T11:42:38.376Z] Command:       /nix/store/rbdrkcs5kkwpalxcd7c6bnm33lk2955n-nodejs-20.19.0/bin/node /home/user/.global_modules/bin/firebase deploy --only apphosting
[debug] [2025-06-26T11:42:38.377Z] CLI Version:   14.8.0
[debug] [2025-06-26T11:42:38.378Z] Platform:      linux
[debug] [2025-06-26T11:42:38.378Z] Node Version:  v20.19.0
[debug] [2025-06-26T11:42:38.378Z] Time:          Thu Jun 26 2025 11:42:38 GMT+0000 (Coordinated Universal Time)
[debug] [2025-06-26T11:42:38.380Z] ----------------------------------------------------------------------
[debug] 
[debug] [2025-06-26T11:42:40.816Z] Object "/apphosting" in "firebase.json" is missing required property: {"missingProperty":"backendId"}
[debug] [2025-06-26T11:42:40.817Z] Field "/apphosting" in "firebase.json" is possibly invalid: must be array
[debug] [2025-06-26T11:42:40.817Z] Field "/apphosting" in "firebase.json" is possibly invalid: must match a schema in anyOf
[debug] [2025-06-26T11:42:40.824Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2025-06-26T11:42:40.824Z] > authorizing via signed-in user (thalesmoraesadv@gmail.com)
[debug] [2025-06-26T11:42:40.825Z] [iam] checking project juv-comissoes for permissions ["firebase.projects.get",null]
[debug] [2025-06-26T11:42:40.830Z] Checked if tokens are valid: true, expires at: 1750941532965
[debug] [2025-06-26T11:42:40.831Z] Checked if tokens are valid: true, expires at: 1750941532965
[debug] [2025-06-26T11:42:40.833Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/juv-comissoes:testIamPermissions [none]
[debug] [2025-06-26T11:42:40.835Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/juv-comissoes:testIamPermissions x-goog-quota-user=projects/juv-comissoes
[debug] [2025-06-26T11:42:40.835Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/juv-comissoes:testIamPermissions {"permissions":["firebase.projects.get",null]}
[debug] [2025-06-26T11:42:41.272Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/juv-comissoes:testIamPermissions 200
[debug] [2025-06-26T11:42:41.275Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/juv-comissoes:testIamPermissions {"permissions":["firebase.projects.get"]}
[debug] [2025-06-26T11:42:41.276Z] [iam] error while checking permissions, command may fail: Authorization failed. This account is missing the following required permissions on project juv-comissoes:

  
[info] 
[info] === Deploying to 'juv-comissoes'...
[info] 
[info] i  deploying apphosting 
[debug] [2025-06-26T11:42:41.312Z] Checked if tokens are valid: true, expires at: 1750941532965
[debug] [2025-06-26T11:42:41.312Z] Checked if tokens are valid: true, expires at: 1750941532965
[debug] [2025-06-26T11:42:41.312Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/juv-comissoes/serviceAccounts/firebase-app-hosting-compute@juv-comissoes.iam.gserviceaccount.com:testIamPermissions [none]
[debug] [2025-06-26T11:42:41.312Z] >>> [apiv2][(partial)header] POST https://iam.googleapis.com/v1/projects/juv-comissoes/serviceAccounts/firebase-app-hosting-compute@juv-comissoes.iam.gserviceaccount.com:testIamPermissions x-goog-quota-user=projects/juv-comissoes
[debug] [2025-06-26T11:42:41.312Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/juv-comissoes/serviceAccounts/firebase-app-hosting-compute@juv-comissoes.iam.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2025-06-26T11:42:42.167Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/juv-comissoes/serviceAccounts/firebase-app-hosting-compute@juv-comissoes.iam.gserviceaccount.com:testIamPermissions 200
[debug] [2025-06-26T11:42:42.168Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/juv-comissoes/serviceAccounts/firebase-app-hosting-compute@juv-comissoes.iam.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2025-06-26T11:42:42.170Z] Checked if tokens are valid: true, expires at: 1750941532965
[debug] [2025-06-26T11:42:42.170Z] Checked if tokens are valid: true, expires at: 1750941532965
[debug] [2025-06-26T11:42:42.170Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/juv-comissoes:getIamPolicy [none]
[debug] [2025-06-26T11:42:42.420Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/juv-comissoes:getIamPolicy 200
[debug] [2025-06-26T11:42:42.420Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/juv-comissoes:getIamPolicy {"version":1,"etag":"BwY4eAHVwdU=","bindings":[{"role":"roles/artifactregistry.serviceAgent","members":["serviceAccount:service-767449454492@gcp-sa-artifactregistry.iam.gserviceaccount.com"]},{"role":"roles/billing.projectManager","members":["user:thalesmoraesadv@gmail.com"]},{"role":"roles/cloudaicompanion.user","members":["user:thalesmoraesadv@gmail.com"]},{"role":"roles/cloudbuild.builds.builder","members":["serviceAccount:767449454492@cloudbuild.gserviceaccount.com"]},{"role":"roles/cloudbuild.serviceAgent","members":["serviceAccount:service-767449454492@gcp-sa-cloudbuild.iam.gserviceaccount.com"]},{"role":"roles/containerregistry.ServiceAgent","members":["serviceAccount:service-767449454492@containerregistry.iam.gserviceaccount.com"]},{"role":"roles/developerconnect.readTokenAccessor","members":["serviceAccount:firebase-app-hosting-compute@juv-comissoes.iam.gserviceaccount.com"]},{"role":"roles/developerconnect.serviceAgent","members":["serviceAccount:service-767449454492@gcp-sa-devconnect.iam.gserviceaccount.com"]},{"role":"roles/editor","members":["serviceAccount:767449454492-compute@developer.gserviceaccount.com"]},{"role":"roles/firebase.admin","members":["user:thalesmoraesadv@gmail.com"]},{"role":"roles/firebase.managementServiceAgent","members":["serviceAccount:service-767449454492@gcp-sa-firebase.iam.gserviceaccount.com"]},{"role":"roles/firebase.sdkAdminServiceAgent","members":["serviceAccount:firebase-adminsdk-fbsvc@juv-comissoes.iam.gserviceaccount.com","serviceAccount:firebase-app-hosting-compute@juv-comissoes.iam.gserviceaccount.com"]},{"role":"roles/firebaseapphosting.computeRunner","members":["serviceAccount:firebase-app-hosting-compute@juv-comissoes.iam.gserviceaccount.com"]},{"role":"roles/firebaseapphosting.serviceAgent","members":["serviceAccount:service-767449454492@gcp-sa-firebaseapphosting.iam.gserviceaccount.com"]},{"role":"roles/iam.serviceAccountTokenCreator","members":["serviceAccount:firebase-adminsdk-fbsvc@juv-comissoes.iam.gserviceaccount.com"]},{"role":"roles/owner","members":["user:thalesmoraesadv@gmail.com"]},{"role":"roles/run.serviceAgent","members":["serviceAccount:service-767449454492@serverless-robot-prod.iam.gserviceaccount.com"]},{"role":"roles/secretmanager.admin_withcond_7b49dcad653c60504d6e","members":["serviceAccount:service-767449454492@gcp-sa-devconnect.iam.gserviceaccount.com"]},{"role":"roles/storage.objectViewer","members":["serviceAccount:firebase-app-hosting-compute@juv-comissoes.iam.gserviceaccount.com"]}]}
[debug] [2025-06-26T11:42:42.421Z] Checked if tokens are valid: true, expires at: 1750941532965
[debug] [2025-06-26T11:42:42.422Z] Checked if tokens are valid: true, expires at: 1750941532965
[debug] [2025-06-26T11:42:42.427Z] >>> [apiv2][query] GET https://firebaseapphosting.googleapis.com/v1beta/projects/juv-comissoes/locations/-/backends 
[debug] [2025-06-26T11:42:43.446Z] <<< [apiv2][status] GET https://firebaseapphosting.googleapis.com/v1beta/projects/juv-comissoes/locations/-/backends 200
[debug] [2025-06-26T11:42:43.446Z] <<< [apiv2][body] GET https://firebaseapphosting.googleapis.com/v1beta/projects/juv-comissoes/locations/-/backends {"backends":[{"name":"projects/juv-comissoes/locations/europe-west4/backends/gestor","createTime":"2025-06-26T11:27:05.701453537Z","updateTime":"2025-06-26T11:41:41.021945Z","uri":"gestor--juv-comissoes.europe-west4.hosted.app","codebase":{"repository":"projects/juv-comissoes/locations/europe-west4/connections/apphosting-github-conn-seivjkp/gitRepositoryLinks/thalesmoraes098-gestor","rootDirectory":"/"},"uid":"ebbc7899-56b9-432a-b2a0-0146891c35de","etag":"ye1vhUObpNhuXQLJBXhDkGicOoQCpPzCh1Qbtzqsv-Y","reconciling":false,"servingLocality":"GLOBAL_ACCESS","serviceAccount":"firebase-app-hosting-compute@juv-comissoes.iam.gserviceaccount.com","appId":"1:767449454492:web:413f85150d6f832e425a59"}]}
[debug] [2025-06-26T11:42:50.600Z] TypeError: Cannot read properties of undefined (reading 'name')
    at /home/user/.global_modules/lib/node_modules/firebase-tools/node_modules/@inquirer/checkbox/dist/commonjs/index.js:51:29
    at Array.map (<anonymous>)
    at normalizeChoices (/home/user/.global_modules/lib/node_modules/firebase-tools/node_modules/@inquirer/checkbox/dist/commonjs/index.js:39:20)
    at /home/user/.global_modules/lib/node_modules/firebase-tools/node_modules/@inquirer/checkbox/dist/commonjs/index.js:72:52
    at /home/user/.global_modules/lib/node_modules/firebase-tools/node_modules/@inquirer/core/dist/commonjs/lib/create-prompt.js:120:38
    at store.handleChange (/home/user/.global_modules/lib/node_modules/firebase-tools/node_modules/@inquirer/core/dist/commonjs/lib/hook-engine.js:31:17)
    at cycle (/home/user/.global_modules/lib/node_modules/firebase-tools/node_modules/@inquirer/core/dist/commonjs/lib/hook-engine.js:33:19)
    at /home/user/.global_modules/lib/node_modules/firebase-tools/node_modules/@inquirer/core/dist/commonjs/lib/create-prompt.js:118:13
    at /home/user/.global_modules/lib/node_modules/firebase-tools/node_modules/@inquirer/core/dist/commonjs/lib/hook-engine.js:35:16
    at AsyncLocalStorage.run (node:async_hooks:346:14)
[error] 
[error] Error: An unexpected error has occurred.
